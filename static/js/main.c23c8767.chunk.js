(this["webpackJsonpproject-canvas"]=this["webpackJsonpproject-canvas"]||[]).push([[0],{12:function(e,t,n){e.exports=n(19)},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),i=n.n(c),s=(n(17),n(11)),o=n(1),u=n(2),l=n(4),m=n(5),h=n(7),p=n(6),v=n(8);n(18);function b(e){return a.a.createElement("label",{className:"file-input"},a.a.createElement("input",{type:"file",onChange:function(t){var n=t.target.files,r=new FileReader;1===n.length&&(r.readAsText(n[0]),r.onload=function(t){e.checkData(t.target.result)})}}),"Upload File")}function f(e){var t=e.errors.map((function(e){return a.a.createElement("div",{className:"error",key:"".concat(e.id).concat(e.rule)},"Error on line ",e.rule,": ",e.meta)}));return a.a.createElement("div",{className:"errors-list"},t)}function d(e){return a.a.createElement("div",{className:"cell",style:{background:function(){var t=(new Option).style;if(t.color=e.cell,""!==t.color)return e.cell;for(var n=e.cell.split("").map((function(e){return"00".concat(e.charCodeAt(0).toString(2)).slice(-6)})).map((function(e){return e.match(/.{1,2}/g)})),r=Array(3),a=function(e){r[e]=n.reduce((function(t,n){return t+parseInt(n[e],2)}),0)},c=0;c<3;c++)a(c);var i=Math.max.apply(Math,Object(o.a)(r));return r=r.map((function(e){return e/i*255})),"rgb(".concat(r[0],", ").concat(r[1],", ").concat(r[2],")")}()}})}var N={CANVAS:"C",LINE:"L",RECTANGLE:"R",BUCKET_FILL:"B"},g={noCanvasFound:1,invalidNumberOfArguments:2,invalidArguments:3,invalidFunction:4},y=function(e,t,n,r,a){if(t===r)for(var c=Math.min(n,a),i=Math.max(n,a);c<=i;c++)e[c][t]="x";else for(var s=Math.min(t,r),o=Math.max(t,r);s<=o;s++)e[n][s]="x"},I=function(e,t,n,r,a){y(e,t,n,r,n),y(e,t,n,t,a),y(e,r,n,r,a),y(e,t,a,r,a)},O=function(e,t,n,r){for(var a=e[n][t],c=[{x:t,y:n}];0!==c.length;){var i=c.pop(),s=i.x,u=i.y;e[u][s]=r,u>0&&e[u-1][s]===a&&(c=[{x:s,y:u-1}].concat(Object(o.a)(c))),u<e.length-1&&e[u+1][s]===a&&(c=[{x:s,y:u+1}].concat(Object(o.a)(c))),s>0&&e[u][s-1]===a&&(c=[{x:s-1,y:u}].concat(Object(o.a)(c))),s<e[0].length-1&&e[u][s+1]===a&&(c=[{x:s+1,y:u}].concat(Object(o.a)(c)))}},w=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={canvas:[]},n.drawCanvas=function(){for(var e=n.props.canvasDimension,t=e.width,r=e.height,a=n.props.rules,c=new Array(r),i=0;i<c.length;i++){c[i]=new Array(t);for(var s=0;s<t;s++)c[i][s]=" "}a.forEach((function(e){var t=Object(u.a)(e),n=t[0],r=t.slice(1);if(n===N.LINE){var a=Number.parseInt(r[0])-1,i=Number.parseInt(r[1])-1,s=Number.parseInt(r[2])-1,o=Number.parseInt(r[3])-1;y(c,a,i,s,o)}else if(n===N.RECTANGLE){var l=Number.parseInt(r[0])-1,m=Number.parseInt(r[1])-1,h=Number.parseInt(r[2])-1,p=Number.parseInt(r[3])-1;I(c,l,m,h,p)}else if(n===N.BUCKET_FILL){var v=Number.parseInt(r[0])-1,b=Number.parseInt(r[1])-1;O(c,v,b,r[2])}})),n.setState({canvas:c})},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.drawCanvas()}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.canvasDimension,r=n.width,a=n.height,c=this.props.rules,i=e.canvasDimension,s=i.nextWidth,o=i.nextHeight,u=e.rules;r!==s&&a!==o&&u.length!==c.length&&c.forEach((function(e,n){e===u[n]||t.drawCanvas()}))}},{key:"render",value:function(){var e=this.state.canvas.map((function(e,t){return a.a.createElement("div",{key:t,className:"row"},e.map((function(e,n){return a.a.createElement(d,{key:"".concat(t,"-").concat(n),cell:e})})))}));return a.a.createElement("div",{className:"canvas"},e)}}]),t}(r.PureComponent),j="valid";function x(e,t,n){var r=Object(u.a)(e),a=r[0],c=r.slice(1);switch(a){case N.CANVAS:return function(e){return 2!==e.length?{id:g.invalidNumberOfArguments,meta:"C should have 2 arguments"}:isNaN(Number.parseInt(e[0]))||isNaN(Number.parseInt(e[1]))||Number.parseInt(e[0])<1||Number.parseInt(e[1])<1?{id:g.invalidArguments,meta:"C arguments should have format [number number] (number > 0)"}:{valid:j,width:Number.parseInt(e[0]),height:Number.parseInt(e[1])}}(c);case N.LINE:return function(e,t,n){return 4!==e.length?{id:g.invalidNumberOfArguments,meta:"L should have 4 arguments"}:E(e,t,n)?{id:g.invalidArguments,meta:"L arguments should have format [x y x1 y1] (x, y, x1, y1 = number; 0 < x, x1 < ".concat(t+1,"; 0 < y, y1 < ").concat(n+1,")")}:Number.parseInt(e[0])!==Number.parseInt(e[2])&&Number.parseInt(e[1])!==Number.parseInt(e[3])?{id:g.invalidArguments,meta:"L can not execute for diagonal lines"}:j}(c,t,n);case N.RECTANGLE:return function(e,t,n){return 4!==e.length?{id:g.invalidNumberOfArguments,meta:"R should have 4 arguments"}:E(e,t,n)?{id:g.invalidArguments,meta:"R arguments should have format [x y x1 y1] (x, y, x1, y1 = number; 0 < x, x1 < ".concat(t+1,"; 0 < y, y1 < ").concat(n+1,")")}:j}(c,t,n);case N.BUCKET_FILL:return function(e,t,n){return 3!==e.length?{id:g.invalidNumberOfArguments,meta:"B should have 3 arguments"}:function(e,t,n){return isNaN(Number.parseInt(e[0]))||isNaN(Number.parseInt(e[1]))||Number.parseInt(e[0])<1||Number.parseInt(e[1])<1||Number.parseInt(e[0])>t||Number.parseInt(e[1])>n||e[2].length<1}(e,t,n)?{id:g.invalidArguments,meta:"B arguments should have format [x y color] (x, y = number; 0 < x < ".concat(t+1,"; 0 < y < ").concat(n+1,"; color = singl symbol)")}:j}(c,t,n);default:return function(e){return{id:g.invalidFunction,meta:"".concat(e," function does not exist")}}(a)}}function E(e,t,n){return isNaN(Number.parseInt(e[0]))||isNaN(Number.parseInt(e[1]))||isNaN(Number.parseInt(e[2]))||isNaN(Number.parseInt(e[3]))||Number.parseInt(e[0])<1||Number.parseInt(e[1])<1||Number.parseInt(e[2])<1||Number.parseInt(e[3])<1||Number.parseInt(e[0])>t||Number.parseInt(e[1])>n||Number.parseInt(e[2])>t||Number.parseInt(e[3])>n}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={drawingRules:[],errors:[],canvasDimension:{width:null,height:null}},n.checkData=function(e){var t=[],r=e.split("\n"),a=Object(u.a)(r),c=a[0],i=a.slice(1),s=c.split(" ");if(s[0]!==N.CANVAS)t=[].concat(Object(o.a)(t),[{id:g.noCanvasFound,rule:1,meta:"".concat(s[0]," shoulde be equal to ").concat(N.CANVAS)}]);else{var l=x(s),m=l.valid,h=l.width,p=l.height;m===j&&n.setState({canvasDimension:{width:h,height:p}})}0===t.length&&i.forEach((function(e,r){var a=e.trim().split(" ");if(a[0]===N.CANVAS)t=[].concat(Object(o.a)(t),[{id:g.invalidFunction,rule:r+2,meta:"canvas is already initialized"}]);else{var c=n.state.canvasDimension,i=x(a,c.width,c.height);i!==j&&(t=[].concat(Object(o.a)(t),[C({},i,{rule:r+2})]))}})),0===t.length?n.setState({drawingRules:i.map((function(e){return e.split(" ")})),errors:[]}):n.setState({errors:t,drawingRules:[]})},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.drawingRules,n=e.canvasDimension,r=e.errors,c=t.length?a.a.createElement(w,{rules:t,canvasDimension:n}):a.a.createElement(f,{errors:r});return a.a.createElement("div",{className:"container"},a.a.createElement(b,{checkData:this.checkData}),c)}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[12,1,2]]]);
//# sourceMappingURL=main.c23c8767.chunk.js.map